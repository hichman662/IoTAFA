<form [formGroup]="telemetryForm" (ngSubmit)="onSubmit()">
    <ion-item>
        <ion-label position="stacked">Name</ion-label>
        <ion-input type="text" formControlName="name" class="form-control"></ion-input>
        <div class="error" *ngIf="telemetryForm.controls.name.errors && telemetryForm.controls.name.touched">
            To add Telemetry please fill out this field
        </div>
    </ion-item>
    <ion-item>
        <ion-label>Frecuency</ion-label>
        <ion-input type="number" formControlName="frecuency" class="form-control" id="frecuency" name="frecuency"></ion-input>

        <div class="error" *ngIf="telemetryForm.controls.frecuency.errors&& telemetryForm.controls.frecuency.touched">
            To add telemetry please fill out this field
        </div>
    </ion-item>


    <ion-item>
        <ion-label>Unit</ion-label>
        <ion-select value="beatsPerMinute" okText="Okay" cancelText="Dismiss" class="form-group" formControlName="unit">
            <div class="error" *ngIf="telemetryForm.controls.unit.errors && telemetryForm.controls.unit.touched">
                To add telemetry please select the appropriate option
            </div>
            <ion-select-option value="1">Percent</ion-select-option>
            <ion-select-option value="2">Degrees_farenheit</ion-select-option>
            <ion-select-option value="3">Degrees_celsius</ion-select-option>
            <ion-select-option value="4">Geolocation</ion-select-option>
            <ion-select-option value="5">Steps</ion-select-option>
            <ion-select-option value="6">Beats_per_minute</ion-select-option>
        </ion-select>
    </ion-item>

    <ion-item>
        <ion-label>Schema</ion-label>
        <ion-select value="Autogenerated" okText="Okay" cancelText="Dismiss " class="form-group" formControlName="schema">
            <div class="error" *ngIf="telemetryForm.controls.schema.errors && telemetryForm.controls.schema.touched">
                To add telemetry please select the appropriate option
            </div>
            <ion-select-option value="1">Autogenerated</ion-select-option>
            <ion-select-option value="2">Enum</ion-select-option>
            <ion-select-option value="3">Integer</ion-select-option>
            <ion-select-option value="4">String</ion-select-option>
            <ion-select-option value="5">Double</ion-select-option>
            <ion-select-option value="6">Boolean</ion-select-option>
            <ion-select-option value="7">Text</ion-select-option>
            <ion-select-option value="8">Long</ion-select-option>
            <ion-select-option value="9">Time</ion-select-option>
            <ion-select-option value="10">Date</ion-select-option>
            <ion-select-option value="11">Object</ion-select-option>
            <ion-select-option value="12">OID</ion-select-option>
        </ion-select>
    </ion-item>

    <ion-item>
        <ion-label>Type</ion-label>
        <ion-select value="state" okText="Okay" cancelText="Dismiss" class="form-group" formControlName="type">
            <div class="error" *ngIf="telemetryForm.controls.type.errors && telemetryForm.controls.type.touched">
                To add telemetry please select the appropriate option
            </div>
            <ion-select-option value="1">state</ion-select-option>
            <ion-select-option value="2">event</ion-select-option>
            <ion-select-option value="3">location</ion-select-option>
            <ion-select-option value="4">sensor</ion-select-option>

        </ion-select>
    </ion-item>
    <br>
    <ion-button expand="block " class="save" size="small" fill="solid" type="submit" color="light" [disabled]="!telemetryForm.valid">
        Done
    </ion-button>


</form>

<div class="telemetries" line="">
    <div class="telemetry" *ngFor="let telemetry of arrayTelemetries|keyvalue">
        <mat-expansion-panel details>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <ion-item>
                        <ion-thumbnail size="small" slot="start">
                            <img src="assets/icon/deviceTemplate.svg">
                        </ion-thumbnail>
                        <ion-label>{{telemetry.value.Name}}</ion-label>
                    </ion-item>
                </mat-panel-title>

            </mat-expansion-panel-header>

            <!--   <ion-item-sliding>
      <ion-item-options side="end">
          <ion-item-option color="danger" (click)="null" expandable>
              <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
          </ion-item-option>
      </ion-item-options>
  </ion-item-sliding> -->

            <ion-card>
                <ion-item>
                    <ion-label>Frecuency</ion-label>
                    <ion-badge slot="end">{{telemetry.value.Frecuency}}</ion-badge>
                </ion-item>
                <ion-item>
                    <ion-label>Unit</ion-label>
                    <ion-badge slot="end">{{telemetry.value.Unit}}</ion-badge>
                </ion-item>
                <ion-item>

                    <ion-label>Schema</ion-label>
                    <ion-badge slot="end">{{telemetry.value.Schema}}</ion-badge>
                </ion-item>
                <ion-item>
                    <ion-label>Type</ion-label>
                    <ion-badge slot="end">{{telemetry.value.Type}}</ion-badge>
                </ion-item>



            </ion-card>
            <!-- <p>Content panel.</p> -->

        </mat-expansion-panel>



    </div>
</div>